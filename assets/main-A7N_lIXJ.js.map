{"version":3,"file":"main-A7N_lIXJ.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  initMobileMenu();\n  initHeroAnimation();\n  initQuiz();\n  initContactForm();\n  initCookiePopup();\n});\n\n/* =========================================\n 1. MOBILE MENU LOGIC\n ========================================= */\nfunction initMobileMenu() {\n  const burgerBtn = document.querySelector('.header__burger');\n  const closeBtn = document.querySelector('.mobile-menu__close');\n  const mobileMenu = document.querySelector('.mobile-menu');\n  const menuLinks = document.querySelectorAll('.mobile-menu__link');\n\n  if (!burgerBtn || !mobileMenu) return;\n\n  function openMenu() {\n      mobileMenu.classList.add('active');\n      document.body.style.overflow = 'hidden';\n  }\n\n  function closeMenu() {\n      mobileMenu.classList.remove('active');\n      document.body.style.overflow = '';\n  }\n\n  burgerBtn.addEventListener('click', openMenu);\n\n  if (closeBtn) {\n      closeBtn.addEventListener('click', closeMenu);\n  }\n\n  menuLinks.forEach(link => {\n      link.addEventListener('click', closeMenu);\n  });\n}\n\n/* =========================================\n 2. THREE.JS HERO ANIMATION\n ========================================= */\nfunction initHeroAnimation() {\n  const container = document.getElementById('hero-canvas-container');\n\n  // Check if Three.js is loaded and container exists\n  if (!container || typeof THREE === 'undefined') return;\n\n  // SETUP\n  const scene = new THREE.Scene();\n  scene.background = null;\n\n  const camera = new THREE.PerspectiveCamera(70, container.clientWidth / container.clientHeight, 0.1, 1000);\n  camera.position.z = 400;\n\n  const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\n  renderer.setSize(container.clientWidth, container.clientHeight);\n  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n  container.appendChild(renderer.domElement);\n\n  // GROUP & GEOMETRY\n  const group = new THREE.Group();\n  scene.add(group);\n\n  const geometry = new THREE.IcosahedronGeometry(180, 1);\n\n  const pointsMaterial = new THREE.PointsMaterial({\n      color: 0x4F46E5, // Indigo\n      size: 6,\n      sizeAttenuation: true,\n      transparent: true,\n      opacity: 0.8\n  });\n\n  const wireframeMaterial = new THREE.MeshBasicMaterial({\n      color: 0x0EA5E9, // Sky Blue\n      wireframe: true,\n      transparent: true,\n      opacity: 0.15\n  });\n\n  const pointsMesh = new THREE.Points(geometry, pointsMaterial);\n  const wireframeMesh = new THREE.Mesh(geometry, wireframeMaterial);\n\n  group.add(pointsMesh);\n  group.add(wireframeMesh);\n\n  // BACKGROUND PARTICLES\n  const particlesGeometry = new THREE.BufferGeometry();\n  const particlesCount = 200;\n  const posArray = new Float32Array(particlesCount * 3);\n\n  for(let i = 0; i < particlesCount * 3; i++) {\n      posArray[i] = (Math.random() - 0.5) * 800;\n  }\n\n  particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));\n\n  const particlesMaterial = new THREE.PointsMaterial({\n      color: 0x4F46E5,\n      size: 3,\n      transparent: true,\n      opacity: 0.4,\n      blending: THREE.AdditiveBlending\n  });\n\n  const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);\n  group.add(particlesMesh);\n\n  // MOUSE TRACKING\n  let mouseX = 0;\n  let mouseY = 0;\n  let windowHalfX = window.innerWidth / 2;\n  let windowHalfY = window.innerHeight / 2;\n\n  document.addEventListener('mousemove', (event) => {\n      mouseX = (event.clientX - windowHalfX);\n      mouseY = (event.clientY - windowHalfY);\n  });\n\n  // ANIMATE\n  const animate = () => {\n      requestAnimationFrame(animate);\n\n      const targetRotationX = mouseY * 0.0005;\n      const targetRotationY = mouseX * 0.0005;\n\n      group.rotation.y += 0.003 + (targetRotationY - group.rotation.y) * 0.05;\n      group.rotation.x += 0.001 + (targetRotationX - group.rotation.x) * 0.05;\n\n      particlesMesh.rotation.y -= 0.001;\n\n      // Pulse effect\n      const time = Date.now() * 0.001;\n      const scale = 1 + Math.sin(time) * 0.03;\n      pointsMesh.scale.set(scale, scale, scale);\n      wireframeMesh.scale.set(scale, scale, scale);\n\n      renderer.render(scene, camera);\n  };\n\n  animate();\n\n  window.addEventListener('resize', () => {\n      windowHalfX = window.innerWidth / 2;\n      windowHalfY = window.innerHeight / 2;\n      camera.aspect = container.clientWidth / container.clientHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(container.clientWidth, container.clientHeight);\n  });\n}\n\n/* =========================================\n 3. QUIZ LOGIC\n ========================================= */\nfunction initQuiz() {\n  const quizBox = document.getElementById('quiz-box');\n  const startBtn = document.getElementById('start-quiz');\n\n  if (!quizBox || !startBtn) return;\n\n  const questions = [\n      {\n          text: \"Какая цель вашего проекта?\",\n          options: [\"Автоматизация поддержки\", \"Рост продаж\", \"Обучение сотрудников\", \"Личный помощник\"]\n      },\n      {\n          text: \"Какой объем аудитории планируется?\",\n          options: [\"До 1,000 пользователей\", \"1,000 - 50,000\", \"Более 100,000\", \"Внутреннее ПО\"]\n      },\n      {\n          text: \"Есть ли у вас опыт работы с AI?\",\n          options: [\"Нет, нужен полный цикл\", \"Есть базовые знания\", \"Есть команда разработчиков\", \"Ищу готовое решение\"]\n      }\n  ];\n\n  let currentStep = 0;\n\n  function renderQuestion(index) {\n      quizBox.innerHTML = '';\n\n      const qTitle = document.createElement('h3');\n      qTitle.className = 'quiz__question';\n      qTitle.innerText = `${index + 1}. ${questions[index].text}`;\n\n      const optionsDiv = document.createElement('div');\n      optionsDiv.className = 'quiz__options';\n\n      questions[index].options.forEach(opt => {\n          const btn = document.createElement('button');\n          btn.className = 'quiz-btn';\n          btn.innerText = opt;\n          btn.onclick = () => nextStep();\n          optionsDiv.appendChild(btn);\n      });\n\n      quizBox.appendChild(qTitle);\n      quizBox.appendChild(optionsDiv);\n  }\n\n  function nextStep() {\n      currentStep++;\n\n      if (currentStep < questions.length) {\n          quizBox.style.opacity = 0;\n          setTimeout(() => {\n              renderQuestion(currentStep);\n              quizBox.style.opacity = 1;\n          }, 300);\n      } else {\n          showResult();\n      }\n  }\n\n  function showResult() {\n      quizBox.innerHTML = `\n          <div style=\"text-align: center;\">\n              <i class=\"fa-solid fa-check-circle\" style=\"font-size: 3rem; color: #2DD4BF; margin-bottom: 20px;\"></i>\n              <h3 style=\"font-size: 1.5rem; margin-bottom: 15px; color: #fff;\">Отличные перспективы!</h3>\n              <p style=\"margin-bottom: 25px; color: rgba(255,255,255,0.8);\">\n                  Ваш проект идеально подходит для внедрения архитектуры Zephyr-Vista.\n                  Мы подготовили для вас персональную стратегию.\n              </p>\n              <a href=\"#contact\" class=\"btn btn--primary\">Получить стратегию бесплатно</a>\n          </div>\n      `;\n  }\n\n  startBtn.addEventListener('click', () => {\n      renderQuestion(0);\n  });\n}\n\n/* =========================================\n 4. CONTACT FORM & VALIDATION\n ========================================= */\nfunction initContactForm() {\n  const form = document.getElementById('contact-form');\n  if (!form) return;\n\n  const phoneInput = document.getElementById('phone');\n  const captchaInput = document.getElementById('captcha');\n  const captchaQuestion = document.getElementById('captcha-question');\n  const successMsg = document.getElementById('form-success');\n\n  // 1. Phone Validation: Digits only\n  phoneInput.addEventListener('input', function(e) {\n      this.value = this.value.replace(/\\D/g, ''); // Удаляет всё, кроме цифр\n  });\n\n  // 2. Math Captcha Simulation\n  const num1 = Math.floor(Math.random() * 10) + 1;\n  const num2 = Math.floor(Math.random() * 10) + 1;\n  const captchaResult = num1 + num2;\n\n  if (captchaQuestion) {\n      captchaQuestion.innerText = `${num1} + ${num2}`;\n  }\n\n  // 3. Form Submission\n  form.addEventListener('submit', (e) => {\n      e.preventDefault();\n      let isValid = true;\n\n      // Clear previous errors\n      const formGroups = form.querySelectorAll('.form-group');\n      formGroups.forEach(group => group.classList.remove('error'));\n\n      // Basic fields check (HTML5 required handles basic empty check, but let's add class)\n      const inputs = form.querySelectorAll('input[required]');\n      inputs.forEach(input => {\n          if (!input.value.trim()) {\n              input.closest('.form-group').classList.add('error');\n              isValid = false;\n          }\n      });\n\n      // Email regex check\n      const email = document.getElementById('email');\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      if (email.value && !emailRegex.test(email.value)) {\n          email.closest('.form-group').classList.add('error');\n          isValid = false;\n      }\n\n      // Captcha Check\n      if (parseInt(captchaInput.value) !== captchaResult) {\n          captchaInput.closest('.form-group').classList.add('error');\n          isValid = false;\n      }\n\n      if (isValid) {\n          const btn = form.querySelector('button[type=\"submit\"]');\n          const originalText = btn.innerText;\n\n          // Loading State\n          btn.disabled = true;\n          btn.innerText = 'Отправка...';\n\n          // Simulate AJAX\n          setTimeout(() => {\n              successMsg.classList.add('active');\n              form.reset();\n              btn.disabled = false;\n              btn.innerText = originalText;\n\n              // Note: We do NOT hide the message automatically, as requested\n              // \"Никаких багов с автопоявлением сообщения\" - оно остается висеть\n          }, 2000);\n      }\n  });\n}\n\n/* =========================================\n 5. COOKIE POPUP\n ========================================= */\nfunction initCookiePopup() {\n  const popup = document.getElementById('cookie-popup');\n  const acceptBtn = document.getElementById('cookie-accept');\n\n  if (!popup || !acceptBtn) return;\n\n  // Check localStorage\n  if (!localStorage.getItem('zephyrCookieAccepted')) {\n      // Show with slight delay\n      setTimeout(() => {\n          popup.style.display = 'flex';\n      }, 2000);\n  }\n\n  acceptBtn.addEventListener('click', () => {\n      localStorage.setItem('zephyrCookieAccepted', 'true');\n      popup.style.display = 'none';\n  });\n}\n"],"names":["initMobileMenu","initHeroAnimation","initQuiz","initContactForm","initCookiePopup","burgerBtn","closeBtn","mobileMenu","menuLinks","openMenu","closeMenu","link","container","scene","camera","renderer","group","geometry","pointsMaterial","wireframeMaterial","pointsMesh","wireframeMesh","particlesGeometry","particlesCount","posArray","i","particlesMaterial","particlesMesh","mouseX","mouseY","windowHalfX","windowHalfY","event","animate","targetRotationX","targetRotationY","time","scale","quizBox","startBtn","questions","currentStep","renderQuestion","index","qTitle","optionsDiv","opt","btn","nextStep","showResult","form","phoneInput","captchaInput","captchaQuestion","successMsg","e","num1","num2","captchaResult","isValid","input","email","emailRegex","originalText","popup","acceptBtn"],"mappings":"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"}